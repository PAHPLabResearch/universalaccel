% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/loaders_precomputed.R
\name{load_precomputed_metrics}
\alias{load_precomputed_metrics}
\title{Load precomputed metric time-series for binning / IG (robust messy inputs)}
\usage{
load_precomputed_metrics(
  path,
  apply_valid_filters = TRUE,
  valid_day_hours = 16,
  valid_week_days = 3
)
}
\arguments{
\item{path}{File path}

\item{apply_valid_filters}{logical; apply valid day/week rules}

\item{valid_day_hours}{numeric; default 16}

\item{valid_week_days}{integer; default 3}
}
\description{
Reads a file into a canonical wide table with columns like:
id, time, epoch_sec, ac, enmo, mad, mims_unit, ai, rocam, ...
plus optional: sex (M/F/All), age (integer)
}
\details{
Supported inputs:
\itemize{
\item .csv / .txt (data.table::fread)
\item .xlsx / .xls (readxl::read_excel; first sheet)
\item .rds (readRDS; data.frame/data.table)
}

HARD RULE:
epoch_sec must be exactly 5 or 60 (and not mixed).

Optional validity filtering (recommended):
\itemize{
\item Valid day  = >= valid_day_hours (default 16h) worth of records
\item Valid week = >= valid_week_days (default 3) valid days within a 7-day block
where week blocks are defined per-id starting at the first observed day in the file.
}

Notes:
\itemize{
\item If sex/age are missing, the loader will warn and fall back to sex='All' and age=NA.
\item Single-metric datasets are supported (must include at least one numeric metric column).
\item Adds attribute attr(DT,"ua_loader_meta") used downstream for Output5.
}
}
